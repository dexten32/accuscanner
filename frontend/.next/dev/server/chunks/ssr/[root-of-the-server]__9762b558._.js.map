{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///G:/scanner/frontend/lib/config.ts"],"sourcesContent":["export const API_BASE = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:3001\";\r\n"],"names":[],"mappings":";;;;AAAO,MAAM,WAAW,6DAAmC"}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///G:/scanner/frontend/components/Navbar.tsx"],"sourcesContent":["\"use client\";\r\nimport Link from \"next/link\";\r\nimport { BarChart3, LogOut, User } from \"lucide-react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { usePathname, useRouter } from \"next/navigation\";\r\nimport { API_BASE } from \"@/lib/config\";\r\n\r\nexport const Navbar = () => {\r\n    const [user, setUser] = useState<any>(null);\r\n    const [userDropdownOpen, setUserDropdownOpen] = useState(false);\r\n    const pathname = usePathname();\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        // Simple check if user is logged in via /me endpoint\r\n        const checkUser = async () => {\r\n            try {\r\n                // Use localhost URL directly or a proper env var in real app\r\n                // We need credentials execution\r\n                const res = await fetch(`${API_BASE}/me`, {\r\n                    credentials: 'include'\r\n                });\r\n                const data = await res.json();\r\n                setUser(data.user);\r\n            } catch (e) {\r\n                setUser(null);\r\n            }\r\n        };\r\n        checkUser();\r\n    }, [pathname]);\r\n\r\n    const handleLogout = async () => {\r\n        try {\r\n            await fetch(`${API_BASE}/auth/logout`, { method: 'POST', credentials: 'include' });\r\n            setUser(null);\r\n            router.push('/login');\r\n        } catch (e) {\r\n            console.error(e);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <nav className=\"fixed top-0 left-0 right-0 z-50 flex items-center justify-between px-6 py-4 backdrop-blur-md bg-black/20 border-b border-white/5\">\r\n            <div className=\"flex items-center gap-3\">\r\n                <Link href=\"/\">\r\n                    <div className=\"flex items-center gap-3 cursor-pointer\">\r\n                        <div className=\"w-10 h-10 rounded-xl bg-gradient-to-tr from-emerald-500 to-teal-400 flex items-center justify-center shadow-lg shadow-emerald-500/20\">\r\n                            <BarChart3 className=\"text-white w-6 h-6\" />\r\n                        </div>\r\n                        <span className=\"text-xl font-bold tracking-tight text-white\">AccuScan</span>\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n            {pathname !== '/scan' && pathname !== '/me' && (\r\n                <div className=\"hidden md:flex gap-8 text-sm font-medium text-zinc-400\">\r\n                    <Link href=\"/#how-it-works\" className=\"hover:text-emerald-400 transition-colors\">How it Works</Link>\r\n                    <Link href=\"/#disclaimer\" className=\"hover:text-emerald-400 transition-colors\">Disclaimer</Link>\r\n                </div>\r\n            )}\r\n            <div className=\"flex gap-4 items-center\">\r\n                {user && user.email ? (\r\n                    <>\r\n\r\n                        {pathname !== '/scan' && pathname !== '/me' && (\r\n                            <Link href=\"/scan\">\r\n                                <button className=\"px-5 py-2 rounded-full bg-white text-black font-semibold text-sm hover:scale-105 transition-transform active:scale-95\">\r\n                                    Scanner\r\n                                </button>\r\n                            </Link>\r\n                        )}\r\n                        <div className=\"relative\">\r\n                            <button\r\n                                onClick={() => setUserDropdownOpen(!userDropdownOpen)}\r\n                                className=\"w-10 h-10 rounded-full bg-zinc-800 border border-white/10 flex items-center justify-center hover:bg-zinc-700 transition-colors\"\r\n                            >\r\n                                <User className=\"w-5 h-5 text-zinc-300\" />\r\n                            </button>\r\n\r\n                            {userDropdownOpen && (\r\n                                <div className=\"absolute right-0 top-full mt-2 w-48 bg-zinc-900 border border-white/10 rounded-xl shadow-2xl py-1 z-50 overflow-hidden\">\r\n                                    <div className=\"px-4 py-3 border-b border-white/5\">\r\n                                        <p className=\"text-sm font-medium text-white truncate\">{user.email}</p>\r\n                                        <p className=\"text-xs text-zinc-500 capitalize\">{user.plan} Plan</p>\r\n                                    </div>\r\n                                    <Link\r\n                                        href=\"/me\"\r\n                                        className=\"block px-4 py-2.5 text-sm text-zinc-300 hover:bg-white/5 hover:text-white transition-colors\"\r\n                                        onClick={() => setUserDropdownOpen(false)}\r\n                                    >\r\n                                        Profile\r\n                                    </Link>\r\n                                    <button\r\n                                        onClick={handleLogout}\r\n                                        className=\"w-full text-left px-4 py-2.5 text-sm text-rose-400 hover:bg-rose-500/10 hover:text-rose-300 transition-colors flex items-center gap-2\"\r\n                                    >\r\n                                        <LogOut className=\"w-4 h-4\" />\r\n                                        Logout\r\n                                    </button>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </>\r\n                ) : (\r\n                    <div className=\"flex gap-3\">\r\n                        <Link href=\"/login\">\r\n                            <button className=\"px-5 py-2 rounded-full text-zinc-300 font-medium text-sm hover:text-white transition-colors\">\r\n                                Login\r\n                            </button>\r\n                        </Link>\r\n                        <Link href=\"/login?mode=signup\">\r\n                            <button className=\"px-5 py-2 rounded-full bg-emerald-500 text-white font-semibold text-sm hover:bg-emerald-400 transition-colors shadow-lg shadow-emerald-500/20\">\r\n                                Sign Up\r\n                            </button>\r\n                        </Link>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </nav>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AALA;;;;;;;AAOO,MAAM,SAAS;IAClB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAM;IACtC,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAAC;IACzD,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACN,qDAAqD;QACrD,MAAM,YAAY;YACd,IAAI;gBACA,6DAA6D;gBAC7D,gCAAgC;gBAChC,MAAM,MAAM,MAAM,MAAM,GAAG,yHAAQ,CAAC,GAAG,CAAC,EAAE;oBACtC,aAAa;gBACjB;gBACA,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,QAAQ,KAAK,IAAI;YACrB,EAAE,OAAO,GAAG;gBACR,QAAQ;YACZ;QACJ;QACA;IACJ,GAAG;QAAC;KAAS;IAEb,MAAM,eAAe;QACjB,IAAI;YACA,MAAM,MAAM,GAAG,yHAAQ,CAAC,YAAY,CAAC,EAAE;gBAAE,QAAQ;gBAAQ,aAAa;YAAU;YAChF,QAAQ;YACR,OAAO,IAAI,CAAC;QAChB,EAAE,OAAO,GAAG;YACR,QAAQ,KAAK,CAAC;QAClB;IACJ;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC,uKAAI;oBAAC,MAAK;8BACP,cAAA,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC,+NAAS;oCAAC,WAAU;;;;;;;;;;;0CAEzB,8OAAC;gCAAK,WAAU;0CAA8C;;;;;;;;;;;;;;;;;;;;;;YAIzE,aAAa,WAAW,aAAa,uBAClC,8OAAC;gBAAI,WAAU;;kCACX,8OAAC,uKAAI;wBAAC,MAAK;wBAAiB,WAAU;kCAA2C;;;;;;kCACjF,8OAAC,uKAAI;wBAAC,MAAK;wBAAe,WAAU;kCAA2C;;;;;;;;;;;;0BAGvF,8OAAC;gBAAI,WAAU;0BACV,QAAQ,KAAK,KAAK,iBACf;;wBAEK,aAAa,WAAW,aAAa,uBAClC,8OAAC,uKAAI;4BAAC,MAAK;sCACP,cAAA,8OAAC;gCAAO,WAAU;0CAAwH;;;;;;;;;;;sCAKlJ,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCACG,SAAS,IAAM,oBAAoB,CAAC;oCACpC,WAAU;8CAEV,cAAA,8OAAC,0MAAI;wCAAC,WAAU;;;;;;;;;;;gCAGnB,kCACG,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAI,WAAU;;8DACX,8OAAC;oDAAE,WAAU;8DAA2C,KAAK,KAAK;;;;;;8DAClE,8OAAC;oDAAE,WAAU;;wDAAoC,KAAK,IAAI;wDAAC;;;;;;;;;;;;;sDAE/D,8OAAC,uKAAI;4CACD,MAAK;4CACL,WAAU;4CACV,SAAS,IAAM,oBAAoB;sDACtC;;;;;;sDAGD,8OAAC;4CACG,SAAS;4CACT,WAAU;;8DAEV,8OAAC,oNAAM;oDAAC,WAAU;;;;;;gDAAY;;;;;;;;;;;;;;;;;;;;iDAQlD,8OAAC;oBAAI,WAAU;;sCACX,8OAAC,uKAAI;4BAAC,MAAK;sCACP,cAAA,8OAAC;gCAAO,WAAU;0CAA8F;;;;;;;;;;;sCAIpH,8OAAC,uKAAI;4BAAC,MAAK;sCACP,cAAA,8OAAC;gCAAO,WAAU;0CAAgJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAS9L"}},
    {"offset": {"line": 331, "column": 0}, "map": {"version":3,"sources":["file:///G:/scanner/frontend/app/login/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState, useEffect, Suspense } from \"react\";\r\nimport { Navbar } from \"@/components/Navbar\";\r\nimport { useRouter, useSearchParams } from \"next/navigation\";\r\nimport Link from 'next/link';\r\nimport { API_BASE } from \"@/lib/config\";\r\n\r\nfunction LoginContent() {\r\n    const searchParams = useSearchParams();\r\n    const [isLogin, setIsLogin] = useState(true);\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        const mode = searchParams.get('mode');\r\n        if (mode === 'register') {\r\n            setIsLogin(false);\r\n        }\r\n    }, [searchParams]);\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setError(\"\");\r\n\r\n        if (!isLogin && password !== confirmPassword) {\r\n            setError(\"Passwords do not match\");\r\n            return;\r\n        }\r\n\r\n        const endpoint = isLogin ? \"/login\" : \"/register\";\r\n        try {\r\n            const res = await fetch(`${API_BASE}/auth${endpoint}`, {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({ email, password }),\r\n                credentials: \"include\", // Important for cookies\r\n            });\r\n\r\n            const data = await res.json();\r\n\r\n            if (!res.ok) {\r\n                setError(data.error || \"An error occurred\");\r\n                return;\r\n            }\r\n\r\n            // Redirect to scanner on success\r\n            router.push(\"/scan\");\r\n        } catch (err) {\r\n            setError(\"Failed to connect to server\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-black text-white relative isolate overflow-hidden\">\r\n            <Navbar />\r\n\r\n            <div className=\"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8 mt-20\">\r\n                <div className=\"sm:mx-auto sm:w-full sm:max-w-sm\">\r\n                    <h2 className=\"mt-10 text-center text-3xl font-extrabold tracking-tight text-white\">\r\n                        {isLogin ? \"Sign in to your account\" : \"Create a new account\"}\r\n                    </h2>\r\n                    <p className=\"mt-2 text-center text-sm text-gray-400\">\r\n                        Or{' '}\r\n                        <button onClick={() => setIsLogin(!isLogin)} className=\"font-semibold text-emerald-500 hover:text-emerald-400\">\r\n                            {isLogin ? \"create a new account\" : \"log in to existing account\"}\r\n                        </button>\r\n                    </p>\r\n                </div>\r\n\r\n                <div className=\"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\">\r\n                    <form className=\"space-y-6\" onSubmit={handleSubmit}>\r\n                        <div>\r\n                            <label htmlFor=\"email\" className=\"block text-sm font-medium leading-6 text-white\">\r\n                                Email address\r\n                            </label>\r\n                            <div className=\"mt-2\">\r\n                                <input\r\n                                    id=\"email\"\r\n                                    name=\"email\"\r\n                                    type=\"email\"\r\n                                    autoComplete=\"email\"\r\n                                    required\r\n                                    value={email}\r\n                                    onChange={(e) => setEmail(e.target.value)}\r\n                                    className=\"block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-emerald-500 sm:text-sm sm:leading-6 pl-3\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <label htmlFor=\"password\" className=\"block text-sm font-medium leading-6 text-white\">\r\n                                    Password\r\n                                </label>\r\n                            </div>\r\n                            <div className=\"mt-2\">\r\n                                <input\r\n                                    id=\"password\"\r\n                                    name=\"password\"\r\n                                    type=\"password\"\r\n                                    autoComplete=\"current-password\"\r\n                                    required\r\n                                    value={password}\r\n                                    onChange={(e) => setPassword(e.target.value)}\r\n                                    className=\"block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-emerald-500 sm:text-sm sm:leading-6 pl-3\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        {!isLogin && (\r\n                            <div>\r\n                                <div className=\"flex items-center justify-between\">\r\n                                    <label htmlFor=\"confirmPassword\" className=\"block text-sm font-medium leading-6 text-white\">\r\n                                        Confirm Password\r\n                                    </label>\r\n                                </div>\r\n                                <div className=\"mt-2\">\r\n                                    <input\r\n                                        id=\"confirmPassword\"\r\n                                        name=\"confirmPassword\"\r\n                                        type=\"password\"\r\n                                        required\r\n                                        value={confirmPassword}\r\n                                        onChange={(e) => setConfirmPassword(e.target.value)}\r\n                                        className=\"block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-emerald-500 sm:text-sm sm:leading-6 pl-3\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {error && (\r\n                            <div className=\"text-red-500 text-sm text-center\">\r\n                                {error}\r\n                            </div>\r\n                        )}\r\n\r\n                        <div>\r\n                            <button\r\n                                type=\"submit\"\r\n                                className=\"flex w-full justify-center rounded-md bg-emerald-500 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-emerald-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-500\"\r\n                            >\r\n                                {isLogin ? \"Sign in\" : \"Sign up\"}\r\n                            </button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default function LoginPage() {\r\n    return (\r\n        <Suspense fallback={<div>Loading...</div>}>\r\n            <LoginContent />\r\n        </Suspense>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}