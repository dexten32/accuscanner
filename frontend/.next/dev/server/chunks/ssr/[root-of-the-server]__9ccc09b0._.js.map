{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///G:/scanner/frontend/lib/config.ts"],"sourcesContent":["export const API_BASE = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:3001\";\r\n"],"names":[],"mappings":";;;;AAAO,MAAM,WAAW,6DAAmC"}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///G:/scanner/frontend/components/Navbar.tsx"],"sourcesContent":["\"use client\";\r\nimport Link from \"next/link\";\r\nimport { BarChart3, LogOut, User } from \"lucide-react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { usePathname, useRouter } from \"next/navigation\";\r\nimport { API_BASE } from \"@/lib/config\";\r\n\r\nexport const Navbar = () => {\r\n    const [user, setUser] = useState<any>(null);\r\n    const [userDropdownOpen, setUserDropdownOpen] = useState(false);\r\n    const pathname = usePathname();\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        // Simple check if user is logged in via /me endpoint\r\n        const checkUser = async () => {\r\n            try {\r\n                // Use localhost URL directly or a proper env var in real app\r\n                // We need credentials execution\r\n                const res = await fetch(`${API_BASE}/me`, {\r\n                    credentials: 'include'\r\n                });\r\n                const data = await res.json();\r\n                setUser(data.user);\r\n            } catch (e) {\r\n                setUser(null);\r\n            }\r\n        };\r\n        checkUser();\r\n    }, [pathname]);\r\n\r\n    const handleLogout = async () => {\r\n        try {\r\n            await fetch(`${API_BASE}/auth/logout`, { method: 'POST', credentials: 'include' });\r\n            setUser(null);\r\n            router.push('/login');\r\n        } catch (e) {\r\n            console.error(e);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <nav className=\"fixed top-0 left-0 right-0 z-50 flex items-center justify-between px-6 py-4 backdrop-blur-md bg-black/20 border-b border-white/5\">\r\n            <div className=\"flex items-center gap-3\">\r\n                <Link href=\"/\">\r\n                    <div className=\"flex items-center gap-3 cursor-pointer\">\r\n                        <div className=\"w-10 h-10 rounded-xl bg-gradient-to-tr from-emerald-500 to-teal-400 flex items-center justify-center shadow-lg shadow-emerald-500/20\">\r\n                            <BarChart3 className=\"text-white w-6 h-6\" />\r\n                        </div>\r\n                        <span className=\"text-xl font-bold tracking-tight text-white\">AccuScan</span>\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n            {pathname !== '/scan' && pathname !== '/me' && (\r\n                <div className=\"hidden md:flex gap-8 text-sm font-medium text-zinc-400\">\r\n                    <Link href=\"/#how-it-works\" className=\"hover:text-emerald-400 transition-colors\">How it Works</Link>\r\n                    <Link href=\"/#disclaimer\" className=\"hover:text-emerald-400 transition-colors\">Disclaimer</Link>\r\n                </div>\r\n            )}\r\n            <div className=\"flex gap-4 items-center\">\r\n                {user && user.email ? (\r\n                    <>\r\n\r\n                        {pathname !== '/scan' && pathname !== '/me' && (\r\n                            <Link href=\"/scan\">\r\n                                <button className=\"px-5 py-2 rounded-full bg-white text-black font-semibold text-sm hover:scale-105 transition-transform active:scale-95\">\r\n                                    Scanner\r\n                                </button>\r\n                            </Link>\r\n                        )}\r\n                        <div className=\"relative\">\r\n                            <button\r\n                                onClick={() => setUserDropdownOpen(!userDropdownOpen)}\r\n                                className=\"w-10 h-10 rounded-full bg-zinc-800 border border-white/10 flex items-center justify-center hover:bg-zinc-700 transition-colors\"\r\n                            >\r\n                                <User className=\"w-5 h-5 text-zinc-300\" />\r\n                            </button>\r\n\r\n                            {userDropdownOpen && (\r\n                                <div className=\"absolute right-0 top-full mt-2 w-48 bg-zinc-900 border border-white/10 rounded-xl shadow-2xl py-1 z-50 overflow-hidden\">\r\n                                    <div className=\"px-4 py-3 border-b border-white/5\">\r\n                                        <p className=\"text-sm font-medium text-white truncate\">{user.email}</p>\r\n                                        <p className=\"text-xs text-zinc-500 capitalize\">{user.plan} Plan</p>\r\n                                    </div>\r\n                                    <Link\r\n                                        href=\"/me\"\r\n                                        className=\"block px-4 py-2.5 text-sm text-zinc-300 hover:bg-white/5 hover:text-white transition-colors\"\r\n                                        onClick={() => setUserDropdownOpen(false)}\r\n                                    >\r\n                                        Profile\r\n                                    </Link>\r\n                                    <button\r\n                                        onClick={handleLogout}\r\n                                        className=\"w-full text-left px-4 py-2.5 text-sm text-rose-400 hover:bg-rose-500/10 hover:text-rose-300 transition-colors flex items-center gap-2\"\r\n                                    >\r\n                                        <LogOut className=\"w-4 h-4\" />\r\n                                        Logout\r\n                                    </button>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </>\r\n                ) : (\r\n                    <div className=\"flex gap-3\">\r\n                        <Link href=\"/login\">\r\n                            <button className=\"px-5 py-2 rounded-full text-zinc-300 font-medium text-sm hover:text-white transition-colors\">\r\n                                Login\r\n                            </button>\r\n                        </Link>\r\n                        <Link href=\"/login?mode=signup\">\r\n                            <button className=\"px-5 py-2 rounded-full bg-emerald-500 text-white font-semibold text-sm hover:bg-emerald-400 transition-colors shadow-lg shadow-emerald-500/20\">\r\n                                Sign Up\r\n                            </button>\r\n                        </Link>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </nav>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AALA;;;;;;;AAOO,MAAM,SAAS;IAClB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAM;IACtC,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAAC;IACzD,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACN,qDAAqD;QACrD,MAAM,YAAY;YACd,IAAI;gBACA,6DAA6D;gBAC7D,gCAAgC;gBAChC,MAAM,MAAM,MAAM,MAAM,GAAG,yHAAQ,CAAC,GAAG,CAAC,EAAE;oBACtC,aAAa;gBACjB;gBACA,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,QAAQ,KAAK,IAAI;YACrB,EAAE,OAAO,GAAG;gBACR,QAAQ;YACZ;QACJ;QACA;IACJ,GAAG;QAAC;KAAS;IAEb,MAAM,eAAe;QACjB,IAAI;YACA,MAAM,MAAM,GAAG,yHAAQ,CAAC,YAAY,CAAC,EAAE;gBAAE,QAAQ;gBAAQ,aAAa;YAAU;YAChF,QAAQ;YACR,OAAO,IAAI,CAAC;QAChB,EAAE,OAAO,GAAG;YACR,QAAQ,KAAK,CAAC;QAClB;IACJ;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC,uKAAI;oBAAC,MAAK;8BACP,cAAA,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC,+NAAS;oCAAC,WAAU;;;;;;;;;;;0CAEzB,8OAAC;gCAAK,WAAU;0CAA8C;;;;;;;;;;;;;;;;;;;;;;YAIzE,aAAa,WAAW,aAAa,uBAClC,8OAAC;gBAAI,WAAU;;kCACX,8OAAC,uKAAI;wBAAC,MAAK;wBAAiB,WAAU;kCAA2C;;;;;;kCACjF,8OAAC,uKAAI;wBAAC,MAAK;wBAAe,WAAU;kCAA2C;;;;;;;;;;;;0BAGvF,8OAAC;gBAAI,WAAU;0BACV,QAAQ,KAAK,KAAK,iBACf;;wBAEK,aAAa,WAAW,aAAa,uBAClC,8OAAC,uKAAI;4BAAC,MAAK;sCACP,cAAA,8OAAC;gCAAO,WAAU;0CAAwH;;;;;;;;;;;sCAKlJ,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCACG,SAAS,IAAM,oBAAoB,CAAC;oCACpC,WAAU;8CAEV,cAAA,8OAAC,0MAAI;wCAAC,WAAU;;;;;;;;;;;gCAGnB,kCACG,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAI,WAAU;;8DACX,8OAAC;oDAAE,WAAU;8DAA2C,KAAK,KAAK;;;;;;8DAClE,8OAAC;oDAAE,WAAU;;wDAAoC,KAAK,IAAI;wDAAC;;;;;;;;;;;;;sDAE/D,8OAAC,uKAAI;4CACD,MAAK;4CACL,WAAU;4CACV,SAAS,IAAM,oBAAoB;sDACtC;;;;;;sDAGD,8OAAC;4CACG,SAAS;4CACT,WAAU;;8DAEV,8OAAC,oNAAM;oDAAC,WAAU;;;;;;gDAAY;;;;;;;;;;;;;;;;;;;;iDAQlD,8OAAC;oBAAI,WAAU;;sCACX,8OAAC,uKAAI;4BAAC,MAAK;sCACP,cAAA,8OAAC;gCAAO,WAAU;0CAA8F;;;;;;;;;;;sCAIpH,8OAAC,uKAAI;4BAAC,MAAK;sCACP,cAAA,8OAAC;gCAAO,WAAU;0CAAgJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAS9L"}},
    {"offset": {"line": 331, "column": 0}, "map": {"version":3,"sources":["file:///G:/scanner/frontend/components/BillingModal.tsx"],"sourcesContent":["import { X, Check, CreditCard, Shield, Clock } from \"lucide-react\";\r\n\r\ninterface BillingModalProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    user: any;\r\n    onUpgrade: () => void;\r\n}\r\n\r\nexport const BillingModal = ({ isOpen, onClose, user, onUpgrade }: BillingModalProps) => {\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n            {/* Backdrop */}\r\n            <div\r\n                className=\"absolute inset-0 bg-black/60 backdrop-blur-md transition-opacity\"\r\n                onClick={onClose}\r\n            ></div>\r\n\r\n            {/* Modal Content */}\r\n            <div className=\"relative w-full max-w-lg bg-zinc-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200\">\r\n                {/* Header */}\r\n                <div className=\"flex items-center justify-between p-6 border-b border-white/5 bg-zinc-900/50\">\r\n                    <h3 className=\"text-xl font-bold text-white flex items-center gap-2\">\r\n                        <CreditCard className=\"w-5 h-5 text-emerald-500\" />\r\n                        Billing & Plans\r\n                    </h3>\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"p-2 rounded-full hover:bg-white/5 text-zinc-400 hover:text-white transition-colors\"\r\n                    >\r\n                        <X className=\"w-5 h-5\" />\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Body */}\r\n                <div className=\"p-6 space-y-6\">\r\n\r\n                    {/* Current Plan Status */}\r\n                    <div className=\"p-4 rounded-xl bg-gradient-to-br from-zinc-800/50 to-zinc-900/50 border border-white/5 relative overflow-hidden\">\r\n                        <div className=\"flex justify-between items-start mb-4 relative z-10\">\r\n                            <div>\r\n                                <p className=\"text-zinc-400 text-sm mb-1\">Current Plan</p>\r\n                                <h4 className=\"text-2xl font-bold text-white tracking-tight\">{user.plan}</h4>\r\n                            </div>\r\n                            <div className={`px-3 py-1 rounded-full text-xs font-bold border ${user.plan === 'PRO'\r\n                                    ? 'bg-emerald-500/10 border-emerald-500/20 text-emerald-400'\r\n                                    : 'bg-zinc-700/50 border-zinc-600 text-zinc-400'\r\n                                }`}>\r\n                                {user.plan === 'PRO' ? 'Active' : 'Basic'}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {user.plan === 'PRO' ? (\r\n                            <div className=\"flex items-center gap-2 text-sm text-emerald-400/80\">\r\n                                <Check className=\"w-4 h-4\" />\r\n                                <span>Plan validates until next billing cycle</span>\r\n                            </div>\r\n                        ) : (\r\n                            <p className=\"text-sm text-zinc-500\">Upgrade to PRO to unlock full potential.</p>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Features List (if not PRO) */}\r\n                    {user.plan !== 'PRO' && (\r\n                        <div className=\"space-y-3\">\r\n                            <p className=\"text-sm font-medium text-white\">Pro Benefits:</p>\r\n                            <ul className=\"space-y-2\">\r\n                                {[\r\n                                    'Unlimited Historical Data',\r\n                                    '100 Requests / Minute',\r\n                                    'Priority Support',\r\n                                    'Advanced Filters'\r\n                                ].map((feature, i) => (\r\n                                    <li key={i} className=\"flex items-center gap-3 text-sm text-zinc-300\">\r\n                                        <div className=\"w-5 h-5 rounded-full bg-emerald-500/10 flex items-center justify-center\">\r\n                                            <Check className=\"w-3 h-3 text-emerald-500\" />\r\n                                        </div>\r\n                                        {feature}\r\n                                    </li>\r\n                                ))}\r\n                            </ul>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Billing History (Mock) */}\r\n                    <div>\r\n                        <h4 className=\"text-sm font-medium text-white mb-3 flex items-center gap-2\">\r\n                            <Clock className=\"w-4 h-4 text-zinc-500\" />\r\n                            Recent Activity\r\n                        </h4>\r\n                        <div className=\"rounded-lg border border-white/5 bg-black/20 overflow-hidden\">\r\n                            {user.plan === 'PRO' ? (\r\n                                <div className=\"p-3 flex items-center justify-between border-b border-white/5 last:border-0\">\r\n                                    <div>\r\n                                        <p className=\"text-sm text-white\">Pro Plan Subscription</p>\r\n                                        <p className=\"text-xs text-zinc-500\">Feb 01, 2026</p>\r\n                                    </div>\r\n                                    <span className=\"text-sm font-mono text-emerald-400\">₹4999.00</span>\r\n                                </div>\r\n                            ) : (\r\n                                <div className=\"p-8 text-center text-zinc-500 text-sm\">\r\n                                    No billing history available.\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Footer / Actions */}\r\n                <div className=\"p-6 pt-0\">\r\n                    {user.plan !== 'PRO' ? (\r\n                        <button\r\n                            onClick={() => {\r\n                                onUpgrade();\r\n                                onClose();\r\n                            }}\r\n                            className=\"w-full py-3 rounded-xl bg-emerald-500 text-white font-bold hover:bg-emerald-400 shadow-lg shadow-emerald-500/20 transition-all active:scale-[0.98]\"\r\n                        >\r\n                            Upgrade to PRO (₹4999)\r\n                        </button>\r\n                    ) : (\r\n                        <button\r\n                            className=\"w-full py-3 rounded-xl bg-zinc-800 text-zinc-400 font-medium cursor-not-allowed border border-white/5\"\r\n                            disabled\r\n                        >\r\n                            Manage Subscription\r\n                        </button>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AAAA;AAAA;;;AASO,MAAM,eAAe,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,SAAS,EAAqB;IAChF,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACI,8OAAC;QAAI,WAAU;;0BAEX,8OAAC;gBACG,WAAU;gBACV,SAAS;;;;;;0BAIb,8OAAC;gBAAI,WAAU;;kCAEX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAG,WAAU;;kDACV,8OAAC,gOAAU;wCAAC,WAAU;;;;;;oCAA6B;;;;;;;0CAGvD,8OAAC;gCACG,SAAS;gCACT,WAAU;0CAEV,cAAA,8OAAC,iMAAC;oCAAC,WAAU;;;;;;;;;;;;;;;;;kCAKrB,8OAAC;wBAAI,WAAU;;0CAGX,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAI,WAAU;;0DACX,8OAAC;;kEACG,8OAAC;wDAAE,WAAU;kEAA6B;;;;;;kEAC1C,8OAAC;wDAAG,WAAU;kEAAgD,KAAK,IAAI;;;;;;;;;;;;0DAE3E,8OAAC;gDAAI,WAAW,CAAC,gDAAgD,EAAE,KAAK,IAAI,KAAK,QACvE,6DACA,gDACJ;0DACD,KAAK,IAAI,KAAK,QAAQ,WAAW;;;;;;;;;;;;oCAIzC,KAAK,IAAI,KAAK,sBACX,8OAAC;wCAAI,WAAU;;0DACX,8OAAC,6MAAK;gDAAC,WAAU;;;;;;0DACjB,8OAAC;0DAAK;;;;;;;;;;;iGAGV,8OAAC;wCAAE,WAAU;kDAAwB;;;;;;;;;;;;4BAK5C,KAAK,IAAI,KAAK,uBACX,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAE,WAAU;kDAAiC;;;;;;kDAC9C,8OAAC;wCAAG,WAAU;kDACT;4CACG;4CACA;4CACA;4CACA;yCACH,CAAC,GAAG,CAAC,CAAC,SAAS,kBACZ,8OAAC;gDAAW,WAAU;;kEAClB,8OAAC;wDAAI,WAAU;kEACX,cAAA,8OAAC,6MAAK;4DAAC,WAAU;;;;;;;;;;;oDAEpB;;+CAJI;;;;;;;;;;;;;;;;0CAYzB,8OAAC;;kDACG,8OAAC;wCAAG,WAAU;;0DACV,8OAAC,6MAAK;gDAAC,WAAU;;;;;;4CAA0B;;;;;;;kDAG/C,8OAAC;wCAAI,WAAU;kDACV,KAAK,IAAI,KAAK,sBACX,8OAAC;4CAAI,WAAU;;8DACX,8OAAC;;sEACG,8OAAC;4DAAE,WAAU;sEAAqB;;;;;;sEAClC,8OAAC;4DAAE,WAAU;sEAAwB;;;;;;;;;;;;8DAEzC,8OAAC;oDAAK,WAAU;8DAAqC;;;;;;;;;;;qGAGzD,8OAAC;4CAAI,WAAU;sDAAwC;;;;;;;;;;;;;;;;;;;;;;;kCASvE,8OAAC;wBAAI,WAAU;kCACV,KAAK,IAAI,KAAK,sBACX,8OAAC;4BACG,SAAS;gCACL;gCACA;4BACJ;4BACA,WAAU;sCACb;;;;;qFAID,8OAAC;4BACG,WAAU;4BACV,QAAQ;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAQzB"}},
    {"offset": {"line": 665, "column": 0}, "map": {"version":3,"sources":["file:///G:/scanner/frontend/app/me/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Navbar } from \"../../components/Navbar\";\r\nimport { User, Shield, CreditCard, ArrowLeft } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { API_BASE } from \"@/lib/config\";\r\n\r\nimport { BillingModal } from \"../../components/BillingModal\";\r\n\r\nexport default function ProfilePage() {\r\n    const [user, setUser] = useState<any>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [isBillingModalOpen, setIsBillingModalOpen] = useState(false);\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        const fetchUser = async () => {\r\n            try {\r\n                const res = await fetch(`${API_BASE}/me`, { credentials: 'include' });\r\n                if (!res.ok) {\r\n                    console.error(`Fetch failed: ${res.status} ${res.statusText}`);\r\n                    const text = await res.text();\r\n                    console.error(`Response body: ${text}`);\r\n                    throw new Error('Failed to fetch user');\r\n                }\r\n                const data = await res.json();\r\n                setUser(data.user);\r\n            } catch (error) {\r\n                console.error(\"Profile Fetch Error:\", error);\r\n                // router.push('/login'); // Commented out for debugging\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchUser();\r\n    }, [router]);\r\n\r\n    const loadRazorpayScript = () => {\r\n        return new Promise((resolve) => {\r\n            const script = document.createElement('script');\r\n            script.src = 'https://checkout.razorpay.com/v1/checkout.js';\r\n            script.onload = () => resolve(true);\r\n            script.onerror = () => resolve(false);\r\n            document.body.appendChild(script);\r\n        });\r\n    };\r\n\r\n    const handlePayment = async () => {\r\n        const res = await loadRazorpayScript();\r\n        if (!res) {\r\n            alert('Razorpay SDK failed to load. Are you online?');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            // 1. Create Order\r\n            const orderRes = await fetch(`${API_BASE}/payment/order`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                credentials: 'include'\r\n            });\r\n            const order = await orderRes.json();\r\n\r\n            if (!orderRes.ok) throw new Error(order.error || 'Order creation failed');\r\n\r\n            // 2. Open Razorpay\r\n            const options = {\r\n                key: process.env.NEXT_PUBLIC_RAZORPAY_KEY_ID || 'rzp_test_placeholder', // Should specific in env\r\n                amount: order.amount,\r\n                currency: order.currency,\r\n                name: 'AccuScan Pro',\r\n                description: 'Upgrade to Professional Plan',\r\n                order_id: order.id,\r\n                handler: async function (response: any) {\r\n                    // 3. Verify Payment\r\n                    const verifyRes = await fetch(`${API_BASE}/payment/verify`, {\r\n                        method: 'POST',\r\n                        headers: { 'Content-Type': 'application/json' },\r\n                        body: JSON.stringify({\r\n                            razorpay_order_id: response.razorpay_order_id,\r\n                            razorpay_payment_id: response.razorpay_payment_id,\r\n                            razorpay_signature: response.razorpay_signature\r\n                        }),\r\n                        credentials: 'include'\r\n                    });\r\n\r\n                    const verifyData = await verifyRes.json();\r\n                    if (verifyRes.ok) {\r\n                        alert(\"Payment Successful! Plan Upgraded.\");\r\n                        window.location.reload(); // Refresh to show new plan\r\n                    } else {\r\n                        alert(\"Verification Failed: \" + verifyData.error);\r\n                    }\r\n                },\r\n                prefill: {\r\n                    email: user.email,\r\n                },\r\n                theme: {\r\n                    color: '#10b981' // Emerald-500\r\n                }\r\n            };\r\n\r\n            const paymentObject = new (window as any).Razorpay(options);\r\n            paymentObject.open();\r\n\r\n        } catch (error) {\r\n            console.error(error);\r\n            alert(\"Payment failed\");\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"min-h-screen bg-black text-white flex items-center justify-center\">\r\n                <div className=\"animate-spin rounded-full h-8 w-8 border-t-2 border-emerald-500\"></div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!user) return null;\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-black text-white font-sans selection:bg-emerald-500/30\">\r\n            <Navbar />\r\n\r\n            <main className=\"pt-24 px-6 max-w-4xl mx-auto\">\r\n                <div className=\"mb-8\">\r\n                    <Link href=\"/scan\" className=\"inline-flex items-center text-zinc-400 hover:text-emerald-400 transition-colors mb-4\">\r\n                        <ArrowLeft className=\"w-4 h-4 mr-2\" />\r\n                        Back to Scanner\r\n                    </Link>\r\n                    <h1 className=\"text-3xl font-bold bg-gradient-to-r from-white to-zinc-400 bg-clip-text text-transparent\">\r\n                        My Profile\r\n                    </h1>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                    {/* User Info Card */}\r\n                    <div className=\"md:col-span-2 space-y-6\">\r\n                        <div className=\"p-6 rounded-2xl bg-zinc-900/50 border border-white/5 backdrop-blur-sm\">\r\n                            <div className=\"flex items-start gap-4 mb-6\">\r\n                                <div className=\"w-16 h-16 rounded-full bg-zinc-800 flex items-center justify-center border border-white/10\">\r\n                                    <User className=\"w-8 h-8 text-zinc-400\" />\r\n                                </div>\r\n                                <div>\r\n                                    <h2 className=\"text-xl font-semibold text-white\">{user.email.split('@')[0]}</h2>\r\n                                    <p className=\"text-zinc-500 text-sm\">{user.email}</p>\r\n                                    <div className=\"mt-2 inline-flex items-center px-2 py-1 rounded bg-zinc-800 border border-white/5 text-xs text-zinc-400\">\r\n                                        User ID: <span className=\"font-mono ml-1 text-zinc-500\">{user.userId?.slice(0, 8) || 'N/A'}...</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Plan Details */}\r\n                        <div className=\"p-6 rounded-2xl bg-zinc-900/50 border border-white/5 backdrop-blur-sm relative overflow-hidden group\">\r\n                            <div className=\"absolute top-0 right-0 p-32 bg-emerald-500/5 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none\"></div>\r\n\r\n                            <div className=\"flex items-center justify-between mb-6 relative z-10\">\r\n                                <div>\r\n                                    <div className=\"flex items-center gap-2 mb-1\">\r\n                                        <Shield className=\"w-5 h-5 text-emerald-500\" />\r\n                                        <h3 className=\"text-lg font-semibold text-white\">Current Plan</h3>\r\n                                    </div>\r\n                                    <p className=\"text-zinc-400 text-sm\">Your subscription status and limits.</p>\r\n                                </div>\r\n                                <div className={`px-4 py-1.5 rounded-full text-sm font-bold border ${user.plan === 'PRO'\r\n                                    ? 'bg-emerald-500/10 border-emerald-500/20 text-emerald-400'\r\n                                    : 'bg-zinc-800 border-zinc-700 text-zinc-300'\r\n                                    }`}>\r\n                                    {user.plan}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 relative z-10\">\r\n                                <div className=\"p-4 rounded-xl bg-black/20 border border-white/5\">\r\n                                    <div className=\"text-zinc-500 text-xs uppercase tracking-wider mb-1\">Rate Limit</div>\r\n                                    <div className=\"text-white font-mono text-lg\">\r\n                                        {user.plan === 'FREE' ? '5' : user.plan === 'TRIAL' ? '20' : '100'} <span className=\"text-sm text-zinc-500\">req/min</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"p-4 rounded-xl bg-black/20 border border-white/5\">\r\n                                    <div className=\"text-zinc-500 text-xs uppercase tracking-wider mb-1\">History Access</div>\r\n                                    <div className=\"text-white font-mono text-lg\">\r\n                                        {user.plan === 'FREE' ? '7 Days' : user.plan === 'TRIAL' ? '30 Days' : 'Unlimited'}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {user.plan !== 'PRO' && (\r\n                                <div className=\"mt-6 pt-6 border-t border-white/5 relative z-10\">\r\n                                    <button\r\n                                        onClick={handlePayment}\r\n                                        className=\"w-full py-3 rounded-xl bg-gradient-to-r from-emerald-600 to-teal-500 text-white font-bold hover:shadow-lg hover:shadow-emerald-500/20 transition-all active:scale-[0.98]\"\r\n                                    >\r\n                                        Upgrade to PRO (₹4999)\r\n                                    </button>\r\n                                    <p className=\"text-center text-xs text-zinc-500 mt-2\">Unlock unlimited history and higher rate limits.</p>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Sidebar / Extra Info */}\r\n                    <div className=\"space-y-6\">\r\n                        <div className=\"p-6 rounded-2xl bg-zinc-900/50 border border-white/5 backdrop-blur-sm\">\r\n                            <div className=\"flex items-center gap-2 mb-4\">\r\n                                <CreditCard className=\"w-5 h-5 text-zinc-400\" />\r\n                                <h3 className=\"font-semibold text-white\">Billing</h3>\r\n                            </div>\r\n                            <p className=\"text-sm text-zinc-400 mb-4\">Manage your payment methods and billing history.</p>\r\n                            <button\r\n                                onClick={() => setIsBillingModalOpen(true)}\r\n                                className=\"w-full py-2 rounded-lg bg-zinc-800 hover:bg-zinc-700 text-zinc-300 text-sm transition-colors\"\r\n                            >\r\n                                Manage Billing\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <BillingModal\r\n                    isOpen={isBillingModalOpen}\r\n                    onClose={() => setIsBillingModalOpen(false)}\r\n                    user={user}\r\n                    onUpgrade={handlePayment}\r\n                />\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}