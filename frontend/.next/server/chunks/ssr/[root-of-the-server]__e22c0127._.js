module.exports=[72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},57473,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(72850),e=a.i(46842),f=a.i(70106);let g=(0,f.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),h=(0,f.default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),i=(0,f.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var j=a.i(38246),k=a.i(50944),l=a.i(38847);let m=(0,f.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),n=(0,f.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),o=(0,f.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),p=({isOpen:a,onClose:c,user:d,onUpgrade:e})=>a?(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-md transition-opacity",onClick:c}),(0,b.jsxs)("div",{className:"relative w-full max-w-lg bg-zinc-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-white/5 bg-zinc-900/50",children:[(0,b.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,b.jsx)(h,{className:"w-5 h-5 text-emerald-500"}),"Billing & Plans"]}),(0,b.jsx)("button",{onClick:c,className:"p-2 rounded-full hover:bg-white/5 text-zinc-400 hover:text-white transition-colors",children:(0,b.jsx)(m,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"p-4 rounded-xl bg-gradient-to-br from-zinc-800/50 to-zinc-900/50 border border-white/5 relative overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-zinc-400 text-sm mb-1",children:"Current Plan"}),(0,b.jsx)("h4",{className:"text-2xl font-bold text-white tracking-tight",children:d.plan})]}),(0,b.jsx)("div",{className:`px-3 py-1 rounded-full text-xs font-bold border ${"PRO"===d.plan?"bg-emerald-500/10 border-emerald-500/20 text-emerald-400":"bg-zinc-700/50 border-zinc-600 text-zinc-400"}`,children:"PRO"===d.plan?"Active":"Basic"})]}),"PRO"===d.plan?(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-emerald-400/80",children:[(0,b.jsx)(n,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"Plan validates until next billing cycle"})]}):(0,b.jsx)("p",{className:"text-sm text-zinc-500",children:"Upgrade to PRO to unlock full potential."})]}),"PRO"!==d.plan&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-white",children:"Pro Benefits:"}),(0,b.jsx)("ul",{className:"space-y-2",children:["Unlimited Historical Data","100 Requests / Minute","Priority Support","Advanced Filters"].map((a,c)=>(0,b.jsxs)("li",{className:"flex items-center gap-3 text-sm text-zinc-300",children:[(0,b.jsx)("div",{className:"w-5 h-5 rounded-full bg-emerald-500/10 flex items-center justify-center",children:(0,b.jsx)(n,{className:"w-3 h-3 text-emerald-500"})}),a]},c))})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h4",{className:"text-sm font-medium text-white mb-3 flex items-center gap-2",children:[(0,b.jsx)(o,{className:"w-4 h-4 text-zinc-500"}),"Recent Activity"]}),(0,b.jsx)("div",{className:"rounded-lg border border-white/5 bg-black/20 overflow-hidden",children:"PRO"===d.plan?(0,b.jsxs)("div",{className:"p-3 flex items-center justify-between border-b border-white/5 last:border-0",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-white",children:"Pro Plan Subscription"}),(0,b.jsx)("p",{className:"text-xs text-zinc-500",children:"Feb 01, 2026"})]}),(0,b.jsx)("span",{className:"text-sm font-mono text-emerald-400",children:"₹4999.00"})]}):(0,b.jsx)("div",{className:"p-8 text-center text-zinc-500 text-sm",children:"No billing history available."})})]})]}),(0,b.jsx)("div",{className:"p-6 pt-0",children:"PRO"!==d.plan?(0,b.jsx)("button",{onClick:()=>{e(),c()},className:"w-full py-3 rounded-xl bg-emerald-500 text-white font-bold hover:bg-emerald-400 shadow-lg shadow-emerald-500/20 transition-all active:scale-[0.98]",children:"Upgrade to PRO (₹4999)"}):(0,b.jsx)("button",{className:"w-full py-3 rounded-xl bg-zinc-800 text-zinc-400 font-medium cursor-not-allowed border border-white/5",disabled:!0,children:"Manage Subscription"})})]})]}):null;function q(){let[a,f]=(0,c.useState)(null),[m,n]=(0,c.useState)(!0),[o,q]=(0,c.useState)(!1),r=(0,k.useRouter)();(0,c.useEffect)(()=>{(async()=>{try{let a=await fetch(`${l.API_BASE}/me`,{credentials:"include"});if(!a.ok){console.error(`Fetch failed: ${a.status} ${a.statusText}`);let b=await a.text();throw console.error(`Response body: ${b}`),Error("Failed to fetch user")}let b=await a.json();f(b.user)}catch(a){console.error("Profile Fetch Error:",a)}finally{n(!1)}})()},[r]);let s=async()=>{if(!await new Promise(a=>{let b=document.createElement("script");b.src="https://checkout.razorpay.com/v1/checkout.js",b.onload=()=>a(!0),b.onerror=()=>a(!1),document.body.appendChild(b)}))return void alert("Razorpay SDK failed to load. Are you online?");try{let b=await fetch(`${l.API_BASE}/payment/order`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}),c=await b.json();if(!b.ok)throw Error(c.error||"Order creation failed");let d={key:"rzp_test_YOUR_KEY_HERE",amount:c.amount,currency:c.currency,name:"AccuScan Pro",description:"Upgrade to Professional Plan",order_id:c.id,handler:async function(a){let b=await fetch(`${l.API_BASE}/payment/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({razorpay_order_id:a.razorpay_order_id,razorpay_payment_id:a.razorpay_payment_id,razorpay_signature:a.razorpay_signature}),credentials:"include"}),c=await b.json();b.ok?(alert("Payment Successful! Plan Upgraded."),window.location.reload()):alert("Verification Failed: "+c.error)},prefill:{email:a.email},theme:{color:"#10b981"}};new window.Razorpay(d).open()}catch(a){console.error(a),alert("Payment failed")}};return m?(0,b.jsx)("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-emerald-500"})}):a?(0,b.jsxs)("div",{className:"min-h-screen bg-black text-white font-sans selection:bg-emerald-500/30",children:[(0,b.jsx)(d.Navbar,{}),(0,b.jsxs)("main",{className:"pt-24 px-6 max-w-4xl mx-auto",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)(j.default,{href:"/scan",className:"inline-flex items-center text-zinc-400 hover:text-emerald-400 transition-colors mb-4",children:[(0,b.jsx)(i,{className:"w-4 h-4 mr-2"}),"Back to Scanner"]}),(0,b.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-zinc-400 bg-clip-text text-transparent",children:"My Profile"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"md:col-span-2 space-y-6",children:[(0,b.jsx)("div",{className:"p-6 rounded-2xl bg-zinc-900/50 border border-white/5 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"flex items-start gap-4 mb-6",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-full bg-zinc-800 flex items-center justify-center border border-white/10",children:(0,b.jsx)(e.User,{className:"w-8 h-8 text-zinc-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-white",children:a.email.split("@")[0]}),(0,b.jsx)("p",{className:"text-zinc-500 text-sm",children:a.email}),(0,b.jsxs)("div",{className:"mt-2 inline-flex items-center px-2 py-1 rounded bg-zinc-800 border border-white/5 text-xs text-zinc-400",children:["User ID: ",(0,b.jsxs)("span",{className:"font-mono ml-1 text-zinc-500",children:[a.userId?.slice(0,8)||"N/A","..."]})]})]})]})}),(0,b.jsxs)("div",{className:"p-6 rounded-2xl bg-zinc-900/50 border border-white/5 backdrop-blur-sm relative overflow-hidden group",children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 p-32 bg-emerald-500/5 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6 relative z-10",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)(g,{className:"w-5 h-5 text-emerald-500"}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Current Plan"})]}),(0,b.jsx)("p",{className:"text-zinc-400 text-sm",children:"Your subscription status and limits."})]}),(0,b.jsx)("div",{className:`px-4 py-1.5 rounded-full text-sm font-bold border ${"PRO"===a.plan?"bg-emerald-500/10 border-emerald-500/20 text-emerald-400":"bg-zinc-800 border-zinc-700 text-zinc-300"}`,children:a.plan})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 relative z-10",children:[(0,b.jsxs)("div",{className:"p-4 rounded-xl bg-black/20 border border-white/5",children:[(0,b.jsx)("div",{className:"text-zinc-500 text-xs uppercase tracking-wider mb-1",children:"Rate Limit"}),(0,b.jsxs)("div",{className:"text-white font-mono text-lg",children:["FREE"===a.plan?"5":"TRIAL"===a.plan?"20":"100"," ",(0,b.jsx)("span",{className:"text-sm text-zinc-500",children:"req/min"})]})]}),(0,b.jsxs)("div",{className:"p-4 rounded-xl bg-black/20 border border-white/5",children:[(0,b.jsx)("div",{className:"text-zinc-500 text-xs uppercase tracking-wider mb-1",children:"History Access"}),(0,b.jsx)("div",{className:"text-white font-mono text-lg",children:"FREE"===a.plan?"7 Days":"TRIAL"===a.plan?"30 Days":"Unlimited"})]})]}),"PRO"!==a.plan&&(0,b.jsxs)("div",{className:"mt-6 pt-6 border-t border-white/5 relative z-10",children:[(0,b.jsx)("button",{onClick:s,className:"w-full py-3 rounded-xl bg-gradient-to-r from-emerald-600 to-teal-500 text-white font-bold hover:shadow-lg hover:shadow-emerald-500/20 transition-all active:scale-[0.98]",children:"Upgrade to PRO (₹4999)"}),(0,b.jsx)("p",{className:"text-center text-xs text-zinc-500 mt-2",children:"Unlock unlimited history and higher rate limits."})]})]})]}),(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)("div",{className:"p-6 rounded-2xl bg-zinc-900/50 border border-white/5 backdrop-blur-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(h,{className:"w-5 h-5 text-zinc-400"}),(0,b.jsx)("h3",{className:"font-semibold text-white",children:"Billing"})]}),(0,b.jsx)("p",{className:"text-sm text-zinc-400 mb-4",children:"Manage your payment methods and billing history."}),(0,b.jsx)("button",{onClick:()=>q(!0),className:"w-full py-2 rounded-lg bg-zinc-800 hover:bg-zinc-700 text-zinc-300 text-sm transition-colors",children:"Manage Billing"})]})})]}),(0,b.jsx)(p,{isOpen:o,onClose:()=>q(!1),user:a,onUpgrade:s})]})]}):null}a.s(["default",()=>q],57473)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__e22c0127._.js.map